<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏á‡∏≤‡∏ô‡∏ä‡πâ‡∏≤‡∏á ‡∏õ‡∏µ 2569 - ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ï‡∏≠‡∏µ‡∏™‡∏≤‡∏ô‡πÉ‡∏ï‡πâ</title>
  <style>
    body { margin:0; padding:0; background:#faf7f2; font-family:"Sarabun", sans-serif; }
    header {
      background: linear-gradient(90deg,#8b4513,#d2691e);
      color: #fff;
      padding: 20px;
      text-align: center;
    }

    .marquee-container {
      width: 100%;
      overflow: hidden;
      background: #000;
      padding: 10px 0;
      position: relative;
      height: 220px;
    }
    .marquee-track {
      display: flex;
      gap: 20px;
      will-change: transform;
    }
    .marquee-track img {
      width: 200px;   /* ‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏õ‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå fix */
      height: auto;
      border-radius: 8px;
    }

    footer {
      text-align: center;
      padding: 15px;
      background: #f2f2f2;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <header>
    <h1>üêò ‡∏á‡∏≤‡∏ô‡∏ä‡πâ‡∏≤‡∏á ‡∏õ‡∏µ 2569 ‚Ä¢ ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ï‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô‡∏î‡∏±‡∏á 10 ‡∏Ñ‡∏∑‡∏ô</h1>
    <p>‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ä‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏≤‡∏£‡πå‚Äì‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå ‚Ä¢ ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ï 1‚Äì10 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°</p>
  </header>

  <!-- üé¨ ‡πÅ‡∏ñ‡∏ß‡∏ö‡∏ô -->
  <div class="marquee-container">
    <div class="marquee-track" id="poster-track-top"></div>
  </div>
  <!-- üé¨ ‡πÅ‡∏ñ‡∏ß‡∏•‡πà‡∏≤‡∏á -->
  <div class="marquee-container">
    <div class="marquee-track" id="poster-track-bottom"></div>
  </div>

  <footer>
    &copy; 2025 Isan Retro Concert Festival
  </footer>

  <script>
    async function loadBanners() {
      const res = await fetch("/api/banners");
      const banners = await res.json();

      const top = document.getElementById("poster-track-top");
      const bottom = document.getElementById("poster-track-bottom");

      function fillTrack(track, data) {
        track.innerHTML = "";
        // ‚úÖ ‡∏ó‡∏≥‡∏ã‡πâ‡∏≥ 2 ‡∏£‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
        for (let i = 0; i < 2; i++) {
          data.forEach(b => {
            const img = document.createElement("img");
            img.src = `/api/banners/${b.id}`;
            img.alt = b.title;
            track.appendChild(img);
          });
        }
      }

      fillTrack(top, banners);
      fillTrack(bottom, banners.slice().reverse());

      // üé¨ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô
      startMarquee(top, -1, 1);   // ‡∏ö‡∏ô: ‡∏ã‡πâ‡∏≤‡∏¢
      startMarquee(bottom, 1, 1); // ‡∏•‡πà‡∏≤‡∏á: ‡∏Ç‡∏ß‡∏≤
    }

    function startMarquee(track, direction = -1, speed = 1) {
      let pos = 0;
      const container = track.parentElement;

      function step() {
        pos += speed * direction;
        track.style.transform = `translateX(${pos}px)`;

        if (Math.abs(pos) >= track.scrollWidth / 2) {
          pos = 0;
        }

        requestAnimationFrame(step);
      }
      step();
    }

    loadBanners();
  </script>
</body>
</html>

